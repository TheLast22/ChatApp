<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:ChatApp"
             xmlns:android="clr-namespace:Xamarin.Forms.PlatformConfiguration.AndroidSpecific;assembly=Xamarin.Forms.Core"
             x:Class="ChatApp.ChatPage"
             x:Name="chatPage"
             Title="Chat Page">
    <ContentPage.Content>

        <StackLayout BackgroundColor="White">
            <Frame Padding="-10,5,5,5" BackgroundColor="Transparent" Margin="10,10,10,10" BorderColor="#00529C" CornerRadius="15" >
                <SearchBar x:Name="SearchEntry" Placeholder="Search for friends" Keyboard="Email" Margin="5" FontSize="Subtitle" TextColor="#000000" TextChanged="SearchEntry_TextChanged"></SearchBar>
            </Frame>

            <Grid VerticalOptions="StartAndExpand" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label x:Name="ContactLabel" Text="You have no contacts as of the moment" FontSize="Large" FontAttributes="Bold" TextColor="Black" HorizontalTextAlignment="Center" Padding="0"
                       Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="1" IsVisible="True"/>
                <ListView x:Name="ContactsListView" SeparatorVisibility="Default" HasUnevenRows="True" Grid.Row="0"  Grid.Column="0" Grid.ColumnSpan="1" IsVisible="False" BackgroundColor="Transparent">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <ViewCell>
                                <Frame Padding="2" BorderColor="LightGray" Margin="10,5,10,5" CornerRadius="10" HasShadow="True">
                                    <StackLayout ClassId="{Binding Id}" VerticalOptions="StartAndExpand" Margin="10,5,10,8" HeightRequest="50">
                                        <Label Text="{Binding Username}" FontSize="Medium" TextColor="#00529C"/>
                                        <Line Stroke="LightGray" StrokeThickness="2" StrokeDashArray="3,1" X2="150"></Line>
                                        <Label Text="{Binding Email}" FontSize="Small" TextColor="Black" Margin="0,-5,0,0"/>
                                    </StackLayout>
                                </Frame>
                            </ViewCell>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>

                <ListView x:Name="SearchedListView" SeparatorVisibility="Default" HasUnevenRows="True" Grid.Row="0"  Grid.Column="0" Grid.ColumnSpan="1" IsVisible="False" BackgroundColor="Transparent">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <ViewCell>
                                <Frame Padding="2" BorderColor="White" Margin="10,5,10,5" CornerRadius="10" HasShadow="True" BackgroundColor="WhiteSmoke">
                                    <StackLayout ClassId="{Binding Id}" VerticalOptions="StartAndExpand" Margin="10,5,10,8" HeightRequest="50">
                                        <Label Text="{Binding Username}" FontSize="Medium" TextColor="Black"/>
                                        <Line Stroke="LightGray" StrokeThickness="2" StrokeDashArray="3,1" X2="150"></Line>
                                        <Label Text="{Binding Email}" FontSize="Small" TextColor="#00529C" Margin="0,-5,0,0"/>
                                    </StackLayout>
                                </Frame>
                            </ViewCell>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>